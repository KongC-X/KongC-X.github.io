<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack | 萌萌哒的瑞萌萌</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/V.png">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.30c7bf29.css" as="style"><link rel="preload" href="/assets/js/app.9189764f.js" as="script"><link rel="preload" href="/assets/js/2.ef243b8b.js" as="script"><link rel="preload" href="/assets/js/16.3b94da96.js" as="script"><link rel="prefetch" href="/assets/js/10.903576aa.js"><link rel="prefetch" href="/assets/js/11.6ee9811e.js"><link rel="prefetch" href="/assets/js/12.937ec838.js"><link rel="prefetch" href="/assets/js/13.7f5f13fd.js"><link rel="prefetch" href="/assets/js/14.a542474a.js"><link rel="prefetch" href="/assets/js/15.14a7d97c.js"><link rel="prefetch" href="/assets/js/3.c528d442.js"><link rel="prefetch" href="/assets/js/4.7bd9e854.js"><link rel="prefetch" href="/assets/js/5.0210a7e9.js"><link rel="prefetch" href="/assets/js/6.b1764dcb.js"><link rel="prefetch" href="/assets/js/7.ed543e95.js"><link rel="prefetch" href="/assets/js/8.feefd08d.js"><link rel="prefetch" href="/assets/js/9.17255510.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30c7bf29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/V.png" alt="萌萌哒的瑞萌萌" class="logo"> <span class="site-name can-hide">萌萌哒的瑞萌萌</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Sass/" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/Less/" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/Bootstrap4/" class="nav-link">
  Bootstrap4
</a></li><li class="dropdown-item"><!----> <a href="/JSON/" class="nav-link">
  JSON
</a></li><li class="dropdown-item"><!----> <a href="/AJAX/" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/KongC-X" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Sass/" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/Less/" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/Bootstrap4/" class="nav-link">
  Bootstrap4
</a></li><li class="dropdown-item"><!----> <a href="/JSON/" class="nav-link">
  JSON
</a></li><li class="dropdown-item"><!----> <a href="/AJAX/" class="nav-link">
  AJAX
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/HTTP/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/KongC-X" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Webpack/" aria-current="page" class="active sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Webpack/#_1-webpack" class="sidebar-link">1. webpack</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_2-webpack-的使用" class="sidebar-link">2. webpack 的使用</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_3-使用-webpack-dev-server-插件启动页面" class="sidebar-link">3. 使用 webpack-dev-server 插件启动页面</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_4-解析-css-文件" class="sidebar-link">4. 解析 css 文件</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_5-处理图片数据" class="sidebar-link">5. 处理图片数据</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_6-处理字体文件" class="sidebar-link">6. 处理字体文件</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_7-翻译-js-的高级语法-babel" class="sidebar-link">7. 翻译 JS 的高级语法 babel</a></li><li class="sidebar-sub-header"><a href="/Webpack/#_8-使用-webpack-渲染-vue" class="sidebar-link">8. 使用 webpack 渲染 vue</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> Webpack</h1> <h2 id="_1-webpack"><a href="#_1-webpack" class="header-anchor">#</a> 1. webpack</h2> <h3 id="_1-1-静态资源多了带来的问题"><a href="#_1-1-静态资源多了带来的问题" class="header-anchor">#</a> 1.1 静态资源多了带来的问题</h3> <ul><li>网页加载速度慢， 因为 我们要发起很多的二次请求</li> <li>要处理错综复杂的依赖关系</li></ul> <h3 id="_1-2-如何解决上述问题"><a href="#_1-2-如何解决上述问题" class="header-anchor">#</a> 1.2 如何解决上述问题</h3> <ul><li>合并、压缩、精灵图、图片的 Base64 编码</li> <li>可以使用 webpack 解决各个包之间的复杂依赖关系</li></ul> <h2 id="_2-webpack-的使用"><a href="#_2-webpack-的使用" class="header-anchor">#</a> 2. webpack 的使用</h2> <h3 id="_2-1-webpack-的安装"><a href="#_2-1-webpack-的安装" class="header-anchor">#</a> 2.1 webpack 的安装</h3> <ul><li>全局安装运行<code>npm i webpack -g</code>这样就可以在全局使用 webpack 的命令了</li> <li>在项目根目录中运行<code>npm i webpack --save-dev</code>安装到项目依赖中</li></ul> <div class="language- extra-class"><pre class="language-text"><code>官方建议我们安装在项目的目录下
</code></pre></div><p>**备注：**在 webpack4 之后的版本，不光需要安装 webpack 还需要安装 webpack-cli</p> <h3 id="_2-2-webpack-的使用"><a href="#_2-2-webpack-的使用" class="header-anchor">#</a> 2.2 webpack 的使用</h3> <h4 id="_2-2-1-项目搭建思路"><a href="#_2-2-1-项目搭建思路" class="header-anchor">#</a> 2.2.1 项目搭建思路</h4> <ol><li>搭建项目的目录结构</li> <li>使用 npm init 构建项目,使用 package.json 管理项目</li> <li>安装 jquery 插件</li> <li><strong>不在</strong>页面中引入 jquery 而是在<strong>main.js 中引用</strong>jquery（使用 es6 高阶语法），这样做可以减少请求次数</li> <li>编写 js 脚本</li> <li>浏览器<strong>不认识</strong>es6 的高级语法，所以使用 webpack 打包 js 文件，<strong>将这个 js 文件转化成浏览器可以认识的文件</strong>.</li> <li><ol><li>安装 webpack <code>npm i webpack -D</code></li> <li>安装 webpack-cli <code>npm i webpack-cli -D</code></li> <li>执行打包命令, <code>webpack 【需要打包的文件】 -o 【``输出的文件``】</code></li> <li>因为 webpack 不是全局安装所以没有办法在命令行中直接执行 webpack 命令，这里可以借助 npm 提供的<strong>npx</strong>命令执行 webpack 命令 <code>npx webpack 【需要打包的文件】 -o 【``输出的文件``】</code></li></ol></li> <li>在 html 中引入打包好的 js 文件</li></ol> <blockquote><p><strong>npx 可以执行项目已经安装的可执行工具</strong></p></blockquote> <h4 id="_2-2-2-webpack-的作用"><a href="#_2-2-2-webpack-的作用" class="header-anchor">#</a> 2.2.2 webpack 的作用</h4> <ol><li>处理了 js 的依赖关系，对 js 做了合并。</li> <li>让浏览器不识别的高级语法，转换成浏览器可以识别的语法。</li></ol> <h3 id="_2-3-webpack-的配置文件-webpack-config-js"><a href="#_2-3-webpack-的配置文件-webpack-config-js" class="header-anchor">#</a> 2.3 webpack 的配置文件 webpack.config.js</h3> <ol><li>默认配置的入口文件是 src 目录。我们在 src 根目录下添加 index.js，就会默认打包这个 index.js 文件</li> <li>默认出口文件在 dist 目录下生成 main.js</li></ol> <h3 id="_2-4-自定义配置文件"><a href="#_2-4-自定义配置文件" class="header-anchor">#</a> 2.4 自定义配置文件</h3> <ol><li><p>创建 webpack.config.js 的文件，放在项目的根目录</p></li> <li><p>配置入口和出口，配置放在<strong>module.exports</strong>导出的对象里</p></li> <li><ol><li><p>入口 entry，配置这个时候后面写的是路径，这里用到的是 node 提供的 path 的 api 进行路径的拼接</p></li> <li><p>出口 output</p> <p>path</p> <p>filename</p></li></ol></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack的配置文件</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用path提供的方法拼接路径</span>
<span class="token comment">// /src/ ,/src , index.js. /index.js</span>
<span class="token comment">// /src//index.js</span>
<span class="token comment">// /src/index.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/main.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><p>之后直接运行 webpack 即可打包</p> <p>在 node 里__dirname 是这个 js 的当前路径</p></li></ol> <h3 id="_2-5-执行-webpack-之后发生了什么"><a href="#_2-5-执行-webpack-之后发生了什么" class="header-anchor">#</a> 2.5 执行 webpack 之后发生了什么</h3> <ol><li>它会去项目的根目录里找 webpack.config.js 配置文件，如果没找到会使用默认的配置文件，这个默认的配置文件是在 webpack4 之后才有的。默认的入口是 src/index.js，默认的出口是 dist/main.js。</li> <li>回去找到配置文件配置的入口 entry 和出口 output。</li> <li>执行 webpack 的打包命令，将入口文件转化成出口文件</li></ol> <h3 id="_2-6-配置多个入口"><a href="#_2-6-配置多个入口" class="header-anchor">#</a> 2.6 配置多个入口</h3> <p>应用场景：</p> <ol><li>业务代码和第三方代码分离。</li> <li>多模块懒加载</li> <li><ol><li>业务场景：在单页面应用中，如果不做懒加载首页加载时，会把所有的 js 都加载出来，导致首页加载过慢</li> <li><strong>解决</strong>： 加载首页的只加载首页的 js，用到哪个模块就加在那个模块的 js</li></ol></li></ol> <p>如何配置：</p> <ol><li>entry 之前是单个的地址，只能对应一个文件，entry 可以配置成一个<strong>对象</strong>，对象的 key 就打包的入口文件起的名字，value 是文件对应的地址。</li> <li>output 的 filename 改为**[name].js** ，这里[name]指向就是配置的 key 的名字。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    bundle<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/main.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    index<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-使用-webpack-dev-server-插件启动页面"><a href="#_3-使用-webpack-dev-server-插件启动页面" class="header-anchor">#</a> 3. 使用 webpack-dev-server 插件启动页面</h2> <p>每次修改之后都要重新打包，之后刷新页面，操作很繁琐，使用 webpack-dev-server 就可以解决这个问题,实时预览。</p> <h3 id="_3-1-如何使用"><a href="#_3-1-如何使用" class="header-anchor">#</a> 3.1 如何使用</h3> <ol><li>安装 webpack-dev-server 依赖 <code>npm i webpack-dev-server -D</code></li> <li>运行这个命令启动服务</li> <li><ol><li>通过 npx 运行脚本<code>npx webpack-dev-server</code></li> <li>配置 package.json 脚本</li></ol></li> <li><ol><li><ol><li>配置之后通过<code>npm run 【配置的名字】</code>就可以启动</li></ol></li></ol></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="_3-2-执行这个-webpack-dev-server-发生了什么"><a href="#_3-2-执行这个-webpack-dev-server-发生了什么" class="header-anchor">#</a> 3.2 执行这个 webpack-dev-server 发生了什么</h3> <ol><li>启动了一个服务，这个服务默认启动在 8080 端口</li> <li>执行 webpack 命令，把输出的内容放在了<strong>内存</strong>里，我们直接通过 localhost:8080/【输出的文件名】就可以访问到这个文件。</li> <li><ol><li>为什么要放在内存里：我们文件一保存就会进行打包编译，会频繁涉及到文件的读写，内存的读写效率要比硬盘高很多，所以放在内存里。</li></ol></li> <li>我们一修改入口文件，就会执行打包命令，界面就会进行刷新</li></ol> <h3 id="_3-3-实现自动打开浏览器以及热更新"><a href="#_3-3-实现自动打开浏览器以及热更新" class="header-anchor">#</a> 3.3 实现自动打开浏览器以及热更新</h3> <ol><li>通过命令行指定参数的方式实现<code>webpack-dev-server --open --port 3000 --contentBase src --hot</code>注意参数之间都有空格</li> <li><ol><li>open 打开浏览器</li> <li>port 服务端口号</li> <li>contentBase 默认的界面</li> <li>hot 热部署，每次修改 js 文件只会打包修改的地方，提高效率,浏览器<strong>不刷新</strong>修改内容</li></ol></li> <li>使用配置文件配置 devServer</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token comment">// 省略了前面的内容</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// --open --contentBase src --port 3000 --hot&quot;,</span>
        open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        contentBase<span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
        port<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
        hot<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-4-html-的使用-html-webpack-plugin"><a href="#_3-4-html-的使用-html-webpack-plugin" class="header-anchor">#</a> 3.4 html 的使用 html-webpack-plugin</h3> <ol><li>安装 html-webpack-plugin</li> <li>配置 html-webpack-plugin</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 配置插件的节点</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// 创建一个 在内存中 生成 HTML  页面的插件</span>
      template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// 指定 模板页面，将来会根据指定的页面路径，去生成内存中的 页面</span>
      filename<span class="token operator">:</span> <span class="token string">'index.html'</span> <span class="token comment">// 指定生成的页面的名称</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>生成的文件和之前文件的区别</strong></p> <p><code>生成的文件里面会自动引入打包好的js文件</code>。</p> <h2 id="_4-解析-css-文件"><a href="#_4-解析-css-文件" class="header-anchor">#</a> 4. 解析 css 文件</h2> <ol><li>在<strong>main.js</strong>中去<strong>引入</strong>写好的 css，这里的引入方式和引入 js 是不同的<code>import 【css文件的地址】</code></li> <li>webpack<strong>默认只能处理 js 文件</strong>，如果遇到其他后缀，就会去配置文件中找处理的规则，规则配置如下：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这个节点，用于配置 所有 第三方模块 加载器</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 所有第三方模块的 匹配规则</span>
    <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//  配置处理 .css 文件的第三方loader 规则</span>
    <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//配置处理 .less 文件的第三方 loader 规则</span>
    <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.scss$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 配置处理 .scss 文件的 第三方 loader 规则</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li>安装处理的规则</li> <li><ol><li>css 处理规则：css-loader style-loader</li> <li>less: less、less-loader</li> <li>sass: sass-loader、node-sass、sass</li></ol></li> <li>文件的处理顺序是从后向前进行处理</li></ol> <h3 id="_4-1-处理-css-中的地址问题"><a href="#_4-1-处理-css-中的地址问题" class="header-anchor">#</a> 4.1 处理 css 中的地址问题</h3> <p>默认无法处理 css 文件中的 url 地址</p> <ol><li>安装 url-loader file-loader</li> <li>loader 传参，</li> <li><ol><li>配置 limit</li> <li>配置 name=[hash:8]-[name].[ext]</li></ol></li></ol> <h2 id="_5-处理图片数据"><a href="#_5-处理图片数据" class="header-anchor">#</a> 5. 处理图片数据</h2> <ol><li>因为 webpack 不认识.jpg…结尾的资源，所以我们进行静态资源的处理</li> <li>使用 url-loader file-loader 处理图片数据</li> <li>正则<code>/\.(jpg|png|gif|bmp)$/</code>，url-loader 依赖 file-loader 所以我们只写了 url-loader，配置如下：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
     test<span class="token operator">:</span> <span class="token regex">/\.(jpg|png|gif|bmp|svg)$/</span><span class="token punctuation">,</span>
     use<span class="token operator">:</span> <span class="token string">'url-loader?limit=1000&amp;name=[hash:8]-[name].[ext]'</span>
 <span class="token punctuation">}</span>
<span class="token number">1234</span>
		<span class="token number">4.</span>  loader传参<span class="token operator">:</span>
         			<span class="token number">1.</span>  配置limit 比这个配置文件小的图片会使用base64编码，比这个大的使用地址
         			<span class="token number">2.</span>  配置name<span class="token operator">=</span><span class="token punctuation">[</span>hash<span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>ext<span class="token punctuation">]</span> 使用地址的名字在这里配置<span class="token operator">:</span>
                   			<span class="token number">1.</span>  <span class="token punctuation">[</span>hash<span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">]</span>生成一个唯一的hash码这个hash码是<span class="token number">32</span>位，这里截取前<span class="token number">8</span>位
                   			<span class="token number">2.</span>  <span class="token punctuation">[</span>name<span class="token punctuation">]</span>代表文件的名字
                   			<span class="token number">3.</span>  <span class="token punctuation">[</span>ext<span class="token punctuation">]</span> 文件的扩展名
</code></pre></div><h2 id="_6-处理字体文件"><a href="#_6-处理字体文件" class="header-anchor">#</a> 6. 处理字体文件</h2> <p>和静态资源类似，配置相应的解析规则就可以，这里也是使用 url-loader 进行的解析</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf)$/</span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token string">'url-loader?limit=1000&amp;name=[hash:8]-[name].[ext]'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-翻译-js-的高级语法-babel"><a href="#_7-翻译-js-的高级语法-babel" class="header-anchor">#</a> 7. 翻译 JS 的高级语法 babel</h2> <p>在 webpack 中，默认只能处理 一部分 ES6 的新语法，一些更高级的 ES6 语法或者 ES7 语法，webpack 是处理不了的；这时候，就需要 借助于第三方的 loader，来帮助 webpack 处理这些高级的语法，当第三方 loader 把 高级语法转为 低级的语法之后，会把结果交给 webpack 去打包到 bundle.js 中。</p> <ol><li><p>Babel 是一个 JavaScript 编译器</p></li> <li><p>我们的目的是在低版本浏览器中也可以使用高级的语法。说白了就是为了兼容低版本浏览器，使用这个插件之后，会把高版本的语法转换成低版本的语法。转换规则在配置文件中配置的</p> <ol><li>例如：presets: [’@babel/preset-env’]</li></ol></li> <li><p>使用；</p> <ol><li><p>安装依赖，具体安装官网有介绍<code>npm install babel-loader@8.0.0-beta.0 @babel/core @babel/preset-env</code></p></li> <li><p>添加 loader 的配置:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
  <span class="token comment">// 排除的部分，node_modules,1、没有必要2、node_modules特别大，打包比较慢</span>
  exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用数组和字符串配置，这里也可以使用对象配置，loader是js文件的处理模块，options是参数，里面参数的</span>
  <span class="token comment">// 内容是根据不同loader有不同的内容，这里presets是指定babel-loader预置的翻译语法</span>
  use<span class="token operator">:</span> <span class="token punctuation">{</span>
    loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol></li></ol> <h2 id="_8-使用-webpack-渲染-vue"><a href="#_8-使用-webpack-渲染-vue" class="header-anchor">#</a> 8. 使用 webpack 渲染 vue</h2> <h3 id="_8-1-使用传统方式进行运行"><a href="#_8-1-使用传统方式进行运行" class="header-anchor">#</a> 8.1 使用传统方式进行运行</h3> <ol><li>我们安装的 vue 默认导入的是运行时环境的 vue，在运行时环境中不支持直接使用 template 渲染，推荐使用 render 函数渲染</li> <li>我们还想通过传统的方式渲染，我们可以导入完整的 vue 的 js，<code>import Vue from 'vue/dist/vue'</code></li> <li>这个导入什么包由 package.json 里的 main 属性配置的，我们不能修改 node_modules 里的内容。我们如果想修改 vue 导入时候的包的路径，可以修改 webpack 的配置。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 修改 Vue 被导入时候的包的路径</span>
       <span class="token string">&quot;vue$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue/dist/vue.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-2-使用-webpack-方式进行"><a href="#_8-2-使用-webpack-方式进行" class="header-anchor">#</a> 8.2 使用 webpack 方式进行</h3> <ol><li>在 webpack 中推荐使用.vue 后缀的文件定义组件。</li> <li><ol><li>template：只有一个根节点</li> <li>script : export default {}是一个对象</li></ol></li> <li><ol><li><ol><li>之前构造 vue 组件的一些属性</li></ol></li></ol></li> <li><ol><li>style</li></ol></li> <li><ol><li><ol><li>写样式</li></ol></li> <li>通过 lang 可以指定语法（less、sass）</li> <li>通过 scoped，当</li></ol></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-loader/lib/plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... 其它规则</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-loader/lib/plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... 其它规则</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.9189764f.js" defer></script><script src="/assets/js/2.ef243b8b.js" defer></script><script src="/assets/js/16.3b94da96.js" defer></script>
  </body>
</html>
